{"ast":null,"code":"import{createSlice}from\"@reduxjs/toolkit\";import{useGetMyOrdersQuery}from\"../../api\";var initialState={cartItems:[],totalQuantity:0,totalCartValue:0,shippingAddress:{},paymentMethod:[]};export var cartSlice=createSlice({name:'cart',initialState:initialState,reducers:{addToCart:function addToCart(state,action){// console.log(\"payload\",action.payload)\nvar newItem=action.payload;var existingItem=state.cartItems.find(function(item){return item.product===newItem.product;});if(existingItem){existingItem.qty=newItem.qty;existingItem.itemsmultiliedbyqty=newItem.qty*newItem.price;state.totalCartValue=0;state.cartItems.map(function(item){state.totalCartValue=item.itemsmultiliedbyqty+state.totalCartValue;});}else{newItem.itemsmultiliedbyqty=newItem.qty*newItem.price;state.cartItems.push(newItem);state.totalQuantity=state.cartItems.length;state.totalCartValue=0;state.cartItems.map(function(item){state.totalCartValue=item.itemsmultiliedbyqty+state.totalCartValue;});}// localStorage.setItem('cartItems',JSON.stringify(state.cartItems))\n},removeFromCart:function removeFromCart(state,action){var deleteItem=action.payload;// console.log(\"delitem\",deleteItem)\n// console.log(state.cartItems)\nvar findItem=state.cartItems.find(function(item){return item.product===deleteItem.id;});// console.warn(\"found\",findItem)\nif(findItem){state.cartItems=state.cartItems.filter(function(item){return item.product!==deleteItem.id;});state.totalQuantity=state.cartItems.length;//  console.warn(\"Tobeminus\",state.totalCartValue)\nstate.totalCartValue=state.totalCartValue-deleteItem.cal;//  localStorage.setItem('cartItems',JSON.stringify(state.cartItems))\n}// state.cartItems.map((item)=>{\n//     // state.totalCartValue=0\n//     state.totalCartValue=state.totalCartValue-item.itemsmultiliedbyqty;\n//     // console.log(total)\n// })\n},resetCart:function resetCart(state,action){state.cartItems=[];state.totalQuantity=0;state.totalCartValue=0;state.shippingAddress={};state.paymentMethod=[];},saveShippingAddress:function saveShippingAddress(state,action){state.shippingAddress=action.payload;},savePaymentMethod:function savePaymentMethod(state,action){state.paymentMethod=action.payload;}}});var _cartSlice$actions=cartSlice.actions,addToCart=_cartSlice$actions.addToCart,removeFromCart=_cartSlice$actions.removeFromCart,saveShippingAddress=_cartSlice$actions.saveShippingAddress,savePaymentMethod=_cartSlice$actions.savePaymentMethod,resetCart=_cartSlice$actions.resetCart;export{addToCart,removeFromCart,saveShippingAddress,savePaymentMethod,resetCart};export default cartSlice.reducer;","map":{"version":3,"names":["createSlice","useGetMyOrdersQuery","initialState","cartItems","totalQuantity","totalCartValue","shippingAddress","paymentMethod","cartSlice","name","reducers","addToCart","state","action","newItem","payload","existingItem","find","item","product","qty","itemsmultiliedbyqty","price","map","push","length","removeFromCart","deleteItem","findItem","id","filter","cal","resetCart","saveShippingAddress","savePaymentMethod","_cartSlice$actions","actions","reducer"],"sources":["/Users/raghu/Downloads/ecomstore-master/frontend/src/app/features/slices/cartslice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nimport { useGetMyOrdersQuery } from \"../../api\";\n\nconst initialState={\n    cartItems:[],\n    totalQuantity:0,\n    totalCartValue:0,\n    shippingAddress:{},\n    paymentMethod:[]\n}\n\nexport const cartSlice=createSlice({\n    name:'cart',\n    initialState,\n    reducers:{\n        addToCart:(state,action)=>{\n            // console.log(\"payload\",action.payload)\n            const newItem=action.payload;\n            const existingItem=state.cartItems.find((item)=>item.product === newItem.product)\n                    if(existingItem){\n                    existingItem.qty=newItem.qty;\n                    existingItem.itemsmultiliedbyqty=newItem.qty*newItem.price\n                    state.totalCartValue=0\n                        state.cartItems.map((item)=>{\n                            state.totalCartValue=item.itemsmultiliedbyqty+state.totalCartValue\n                        })\n                }\n                    else{\n                        newItem.itemsmultiliedbyqty=newItem.qty*newItem.price\n                        state.cartItems.push(newItem);\n                        state.totalQuantity=state.cartItems.length\n                        state.totalCartValue=0\n                        state.cartItems.map((item)=>{\n                            state.totalCartValue=item.itemsmultiliedbyqty+state.totalCartValue\n                        })\n                    }   \n                    // localStorage.setItem('cartItems',JSON.stringify(state.cartItems))\n        }, \n        removeFromCart:(state,action)=>{\n            const deleteItem=action.payload;\n            // console.log(\"delitem\",deleteItem)\n            // console.log(state.cartItems)\n            const findItem=state.cartItems.find((item)=>item.product === deleteItem.id)\n            // console.warn(\"found\",findItem)\n            if(findItem){\n                 state.cartItems = state.cartItems.filter(item => item.product !== deleteItem.id); \n                 state.totalQuantity=state.cartItems.length   \n                //  console.warn(\"Tobeminus\",state.totalCartValue)\n                 state.totalCartValue=state.totalCartValue-deleteItem.cal;\n                //  localStorage.setItem('cartItems',JSON.stringify(state.cartItems))\n            }\n            // state.cartItems.map((item)=>{\n            //     // state.totalCartValue=0\n            //     state.totalCartValue=state.totalCartValue-item.itemsmultiliedbyqty;\n            //     // console.log(total)\n            // })\n        },\n        resetCart:(state,action)=>{\n            state.cartItems=[]\n            state.totalQuantity=0\n            state.totalCartValue=0\n            state.shippingAddress={}\n            state.paymentMethod=[]\n        },\n        saveShippingAddress:(state,action)=>{\n            state.shippingAddress=action.payload\n        },\n        savePaymentMethod:(state,action)=>{\n            state.paymentMethod=action.payload\n        }\n        } \n})\n\nexport const { addToCart, removeFromCart,saveShippingAddress,savePaymentMethod,resetCart} = cartSlice.actions;\n\nexport default cartSlice.reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}