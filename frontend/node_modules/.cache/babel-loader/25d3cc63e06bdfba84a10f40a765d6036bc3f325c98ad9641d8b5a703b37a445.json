{"ast":null,"code":"var _jsxFileName = \"/Users/raghu/Downloads/ecomstore-master/frontend/src/screens/UserListScreen.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { Table, Button, Container } from 'react-bootstrap';\nimport Message from './Message';\nimport Loader from '../components/Loader';\nimport { useGetUsersQuery } from '../app/api';\nimport { useDeleteUserMutation } from '../app/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserListScreen = ({\n  history\n}) => {\n  _s();\n  //   const dispatch = useDispatch()\n\n  //   const userList = useSelector((state) => state.userList)\n  //   const { loading, error, users } = userList\n\n  //   const userLogin = useSelector((state) => state.userLogin)\n  //   const { userInfo } = userLogin\n\n  //   const userDelete = useSelector((state) => state.userDelete)\n  //   const { success: successDelete } = userDelete\n\n  //   useEffect(() => {\n  //     if (userInfo && userInfo.isAdmin) {\n  //       dispatch(listUsers())\n  //     } else {\n  //       history.push('/login')\n  //     }\n  //   }, [dispatch, history, successDelete, userInfo])\n\n  const deleteHandler = id => {\n    if (window.confirm('Are you sure to delete this user')) {\n      console.log(id);\n      deleteUser(id);\n    }\n  };\n\n  // const editHandler=(id)=>{\n  //                   console.log(\"userid\",id)\n  // }\n\n  const {\n    data,\n    isLoading,\n    error,\n    refetch\n  } = useGetUsersQuery();\n  // error & console.log(error)\n  const [deleteUser, deleteUserResponse] = useDeleteUserMutation();\n  deleteUserResponse.isSuccess && refetch();\n  // deleteUserResponse.isSuccess && console.log(deleteUser.isSuccess)\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Users\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: error.data.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      responsive: true,\n      className: \"table-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"NAME\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"EMAIL\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ADMIN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: data.map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: user._id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              href: `mailto:${user.email}`,\n              children: user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: user.isAdmin ? /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-check\",\n              style: {\n                color: 'green'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-times\",\n              style: {\n                color: 'red'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [/*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: `/admin/user/${user._id}/edit`,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"light\",\n                className: \"btn-sm\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"danger\",\n              className: \"btn-sm\",\n              onClick: () => deleteHandler(user._id),\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-trash\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this)]\n        }, user._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(UserListScreen, \"5Sop4L21108hpqHxbFZw28xWPJg=\", false, function () {\n  return [useGetUsersQuery, useDeleteUserMutation];\n});\n_c = UserListScreen;\nexport default UserListScreen;\nvar _c;\n$RefreshReg$(_c, \"UserListScreen\");","map":{"version":3,"names":["React","LinkContainer","Table","Button","Container","Message","Loader","useGetUsersQuery","useDeleteUserMutation","jsxDEV","_jsxDEV","UserListScreen","history","_s","deleteHandler","id","window","confirm","console","log","deleteUser","data","isLoading","error","refetch","deleteUserResponse","isSuccess","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","message","striped","bordered","hover","responsive","className","map","user","_id","name","href","email","isAdmin","style","color","to","onClick","_c","$RefreshReg$"],"sources":["/Users/raghu/Downloads/ecomstore-master/frontend/src/screens/UserListScreen.js"],"sourcesContent":["import React from 'react'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport { Table, Button, Container } from 'react-bootstrap'\nimport Message from './Message'\nimport Loader from '../components/Loader'\nimport { useGetUsersQuery } from '../app/api'\nimport { useDeleteUserMutation } from '../app/api'\n\nconst UserListScreen = ({ history }) => {\n//   const dispatch = useDispatch()\n\n//   const userList = useSelector((state) => state.userList)\n//   const { loading, error, users } = userList\n\n//   const userLogin = useSelector((state) => state.userLogin)\n//   const { userInfo } = userLogin\n\n//   const userDelete = useSelector((state) => state.userDelete)\n//   const { success: successDelete } = userDelete\n\n//   useEffect(() => {\n//     if (userInfo && userInfo.isAdmin) {\n//       dispatch(listUsers())\n//     } else {\n//       history.push('/login')\n//     }\n//   }, [dispatch, history, successDelete, userInfo])\n\n  const deleteHandler = (id) => {\n    if (window.confirm('Are you sure to delete this user')) {\n        console.log(id)\n      deleteUser(id)\n    }\n  }\n\n  // const editHandler=(id)=>{\n  //                   console.log(\"userid\",id)\n  // }\n\nconst {data,isLoading,error,refetch}=useGetUsersQuery();\n// error & console.log(error)\nconst [deleteUser,deleteUserResponse]=useDeleteUserMutation();\n\ndeleteUserResponse.isSuccess && refetch()\n// deleteUserResponse.isSuccess && console.log(deleteUser.isSuccess)\n\nreturn (\n    <Container>\n      <h1>Users</h1>\n      {isLoading ? (\n        <Loader />\n      ) : error ? (\n        <Message variant='danger'>{error.data.message}</Message>\n      ) : (\n        <Table striped bordered hover responsive className='table-sm'>\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>NAME</th>\n              <th>EMAIL</th>\n              <th>ADMIN</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            {data.map((user) => (\n              <tr key={user._id}>\n                <td>{user._id}</td>\n                <td>{user.name}</td>\n                <td>\n                  <a href={`mailto:${user.email}`}>{user.email}</a>\n                </td>\n                <td>\n                  {user.isAdmin ? (\n                    <i className='fas fa-check' style={{ color: 'green' }}></i>\n                  ) : (\n                    <i className='fas fa-times' style={{ color: 'red' }}></i>\n                  )}\n                </td>\n                <td>\n                  <LinkContainer to={`/admin/user/${user._id}/edit`}>\n                    <Button variant='light' className='btn-sm'>\n                      <i className='fas fa-edit'></i>\n                    </Button>\n                  </LinkContainer>\n                  <Button\n                    variant='danger'\n                    className='btn-sm'\n                    onClick={() => deleteHandler(user._id)}\n                  >\n                    <i className='fas fa-trash'></i>\n                  </Button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n      )}\n    </Container>\n  )\n}\n\nexport default UserListScreen"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}