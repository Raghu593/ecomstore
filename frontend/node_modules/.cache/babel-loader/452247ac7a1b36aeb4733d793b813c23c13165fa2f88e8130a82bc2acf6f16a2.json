{"ast":null,"code":"import _slicedToArray from\"/Users/raghu/Downloads/ecomstore-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{LinkContainer}from'react-router-bootstrap';import{Table,Button,Container,Row,Col}from'react-bootstrap';import Message from'./Message';import Loader from'../components/Loader';import{useGetAllProductsQuery,useDeleteProductMutation}from'../app/api';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductListScreen=function ProductListScreen(){//   const dispatch = useDispatch()\n//   const userList = useSelector((state) => state.userList)\n//   const { loading, error, users } = userList\n//   const userLogin = useSelector((state) => state.userLogin)\n//   const { userInfo } = userLogin\n//   const userDelete = useSelector((state) => state.userDelete)\n//   const { success: successDelete } = userDelete\n//   useEffect(() => {\n//     if (userInfo && userInfo.isAdmin) {\n//       dispatch(listUsers())\n//     } else {\n//       history.push('/login')\n//     }\n//   }, [dispatch, history, successDelete, userInfo])\nvar deleteHandler=function deleteHandler(id){if(window.confirm('Are you sure to delete this product')){console.log(id);deleteProduct(id);}};var navigate=useNavigate();// const editHandler=(id)=>{\n//                   console.log(\"userid\",id)\n// }``\nvar createProductHandler=function createProductHandler(){navigate('/admin/product/upload');};var _useGetAllProductsQue=useGetAllProductsQuery(),data=_useGetAllProductsQue.data,isLoading=_useGetAllProductsQue.isLoading,isSuccess=_useGetAllProductsQue.isSuccess,refetch=_useGetAllProductsQue.refetch,error=_useGetAllProductsQue.error;// error & console.log(\"allproducts\",error)\nvar _useDeleteProductMuta=useDeleteProductMutation(),_useDeleteProductMuta2=_slicedToArray(_useDeleteProductMuta,2),deleteProduct=_useDeleteProductMuta2[0],deleteProductResponse=_useDeleteProductMuta2[1];deleteProductResponse.isSuccess&&refetch();return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Row,{className:\"align-items-center\",children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Products\"})}),/*#__PURE__*/_jsx(Col,{className:\"text-right\",children:/*#__PURE__*/_jsxs(Button,{className:\"my-3\",onClick:createProductHandler,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"}),\" Create Product\"]})})]}),isLoading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error.message}):/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PRICE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CATEGORY\"}),/*#__PURE__*/_jsx(\"th\",{children:\"BRAND\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map(function(user){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user._id}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{children:user.price})}),/*#__PURE__*/_jsx(\"td\",{children:user.category}),/*#__PURE__*/_jsx(\"td\",{children:user.brand}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/product/\".concat(user._id,\"/edit\"),children:/*#__PURE__*/_jsx(Button,{variant:\"light\",className:\"btn-sm\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})})}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"btn-sm\",onClick:function onClick(){return deleteHandler(user._id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})]})]},user._id);})})]})]});};export default ProductListScreen;","map":{"version":3,"names":["React","LinkContainer","Table","Button","Container","Row","Col","Message","Loader","useGetAllProductsQuery","useDeleteProductMutation","useNavigate","jsx","_jsx","jsxs","_jsxs","ProductListScreen","deleteHandler","id","window","confirm","console","log","deleteProduct","navigate","createProductHandler","_useGetAllProductsQue","data","isLoading","isSuccess","refetch","error","_useDeleteProductMuta","_useDeleteProductMuta2","_slicedToArray","deleteProductResponse","children","className","onClick","variant","message","striped","bordered","hover","responsive","map","user","_id","name","price","category","brand","to","concat"],"sources":["/Users/raghu/Downloads/ecomstore-master/frontend/src/screens/ProductListScreen.js"],"sourcesContent":["import React from 'react'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport { Table, Button, Container,Row,Col} from 'react-bootstrap'\nimport Message from './Message'\nimport Loader from '../components/Loader'\nimport { useGetAllProductsQuery ,useDeleteProductMutation} from '../app/api'\nimport { useNavigate } from 'react-router-dom';\n\n\nconst ProductListScreen = () => {\n//   const dispatch = useDispatch()\n\n//   const userList = useSelector((state) => state.userList)\n//   const { loading, error, users } = userList\n\n//   const userLogin = useSelector((state) => state.userLogin)\n//   const { userInfo } = userLogin\n\n//   const userDelete = useSelector((state) => state.userDelete)\n//   const { success: successDelete } = userDelete\n\n//   useEffect(() => {\n//     if (userInfo && userInfo.isAdmin) {\n//       dispatch(listUsers())\n//     } else {\n//       history.push('/login')\n//     }\n//   }, [dispatch, history, successDelete, userInfo])\n\n  const deleteHandler = (id) => {\n    if (window.confirm('Are you sure to delete this product')) {\n        console.log(id)\n      deleteProduct(id)\n    }\n  }\n\n  const navigate = useNavigate();\n\n  // const editHandler=(id)=>{\n  //                   console.log(\"userid\",id)\n  // }``\n\n  const createProductHandler = () => {\n    navigate('/admin/product/upload')\n  }\n\n  const {data,isLoading,isSuccess,refetch,error}=useGetAllProductsQuery();\n// error & console.log(\"allproducts\",error)\nconst [deleteProduct,deleteProductResponse]=useDeleteProductMutation();\n\ndeleteProductResponse.isSuccess && refetch()\n\nreturn (\n    <Container>\n      <Row className='align-items-center'>\n        <Col>\n          <h1>Products</h1>\n        </Col>\n        <Col className='text-right'>\n          <Button className='my-3' onClick={createProductHandler}>\n            <i className='fas fa-plus'></i> Create Product\n          </Button>\n        </Col>\n      </Row>     \n       {isLoading ? (\n        <Loader />\n      ) : error ? (\n        <Message variant='danger'>{error.message}</Message>\n      ) : (\n        <Table striped bordered hover responsive className='table-sm'>\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>NAME</th>\n              <th>PRICE</th>\n              <th>CATEGORY</th>\n              <th>BRAND</th>\n            </tr>\n          </thead>\n          <tbody>\n            {data.map((user) => (\n              <tr key={user._id}>\n                <td>{user._id}</td>\n                <td>{user.name}</td>\n                <td>\n                  <a>{user.price}</a>\n                </td>\n                <td>\n                  {user.category}\n                </td>\n                <td>\n                  {user.brand}\n                </td>\n                <td>\n                  <LinkContainer to={`/admin/product/${user._id}/edit`}>\n                    <Button variant='light' className='btn-sm'>\n                      <i className='fas fa-edit'></i>\n                    </Button>\n                  </LinkContainer>\n                  <Button\n                    variant='danger'\n                    className='btn-sm'\n                    onClick={() => deleteHandler(user._id)}\n                  >\n                    <i className='fas fa-trash'></i>\n                  </Button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n      )}\n    </Container>\n  )\n}\n\nexport default ProductListScreen"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}