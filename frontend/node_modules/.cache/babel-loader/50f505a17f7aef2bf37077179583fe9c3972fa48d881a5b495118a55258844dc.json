{"ast":null,"code":"import _toConsumableArray from\"/Users/raghu/Downloads/ecomstore-master/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/raghu/Downloads/ecomstore-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{addToCart}from'../app/features/slices/cartslice';import{useDispatch}from'react-redux';import{useNavigate}from'react-router-dom';import{Link}from'react-router-dom';import{Row,Col,Image,ListGroup,Card,Button,Container,Form}from'react-bootstrap';import Rating from'../components/Rating';import{useParams}from'react-router-dom';import{useGetProductByIdQuery}from'../app/api';import Loader from'../components/Loader';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductScreen=function ProductScreen(){var params=useParams();var navigate=useNavigate();var dispatch=useDispatch();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];// const[product,setProduct]=useState({});\nvar _useGetProductByIdQue=useGetProductByIdQuery(params.id),data=_useGetProductByIdQue.data,isLoading=_useGetProductByIdQue.isLoading,isSuccess=_useGetProductByIdQue.isSuccess;// {isSuccess && }\nvar item=[];if(isSuccess){item.push(data);}// setProduct(item)\n// useEffect(()=>{\n//     const fetchProduct=async()=>{\n//         const {data}=await axios.get(`/api/products/${params.id}`)\n//         setProduct(data);\n//     }\n//     fetchProduct();\n// },[])\nconsole.log(\"item\");var addToCartHandler=function addToCartHandler(name,product,image,price,countInStock){// navigate(`/cart/${params.id}?qty=${qty}`)\ndispatch(addToCart({qty:qty,name:name,product:product,image:image,price:price,countInStock:countInStock,itemsmultiliedbyqty:null}));};// const product=products.find(p=> p._id===params.id)\nreturn/*#__PURE__*/_jsxs(Container,{children:[isLoading&&/*#__PURE__*/_jsx(Loader,{}),isSuccess&&item.map(function(product){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-light my-3\",to:\"/\",children:\"Go Back\"}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:6,children:/*#__PURE__*/_jsx(Image,{src:product.image,alt:product.name,fluid:true})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(\"h3\",{children:product.name})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Rating,{value:product.rating,text:\"\".concat(product.numReviews,\" Reviews\")})}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Price: \\u20B9 \",product.price]}),/*#__PURE__*/_jsxs(ListGroup.Item,{children:[\"Description:\",product.description]})]})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(ListGroup,{children:[/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Price:\"}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"\\u20B9 \",product.price]})})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Status:\"}),/*#__PURE__*/_jsx(Col,{children:product.countInStock?'In Stock':'Out Of Stock'})]})}),product.countInStock>0&&/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:\"Select Qty\"}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Form.Control,{as:\"select\",value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})})]})}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Button,{className:\"btn block\",type:\"button\",disabled:product.countInStock===0,onClick:function onClick(){return addToCartHandler(product.name,product._id,product.image,product.price,product.countInStock);},children:\"Add To Cart\"})})]})})})]})]},product._id);})]});};export default ProductScreen;","map":{"version":3,"names":["useState","addToCart","useDispatch","useNavigate","Link","Row","Col","Image","ListGroup","Card","Button","Container","Form","Rating","useParams","useGetProductByIdQuery","Loader","jsx","_jsx","jsxs","_jsxs","ProductScreen","params","navigate","dispatch","_useState","_useState2","_slicedToArray","qty","setQty","_useGetProductByIdQue","id","data","isLoading","isSuccess","item","push","console","log","addToCartHandler","name","product","image","price","countInStock","itemsmultiliedbyqty","children","map","className","to","md","src","alt","fluid","variant","Item","value","rating","text","concat","numReviews","description","Control","as","onChange","e","target","_toConsumableArray","Array","keys","x","type","disabled","onClick","_id"],"sources":["/Users/raghu/Downloads/ecomstore-master/frontend/src/screens/ProductScreen.js"],"sourcesContent":["import {useState} from 'react';\nimport { addToCart } from '../app/features/slices/cartslice';\nimport { useDispatch} from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport {Row, Col,Image,ListGroup,Card,Button, Container ,Form} from 'react-bootstrap';\nimport Rating from '../components/Rating';\nimport { useParams } from 'react-router-dom';\nimport { useGetProductByIdQuery } from '../app/api';\nimport Loader from '../components/Loader';\n\nconst ProductScreen = () => {\n    const params=useParams();\n    const navigate=useNavigate();\n    const dispatch=useDispatch();\n\n    const [qty,setQty]=useState(1)\n    // const[product,setProduct]=useState({});\n\n    const {data,isLoading,isSuccess}=useGetProductByIdQuery(params.id);\n\n    // {isSuccess && }\n    \n    let item=[]\n    if(isSuccess){\n         item.push(data)\n    }\n\n    // setProduct(item)\n\n    // useEffect(()=>{\n    //     const fetchProduct=async()=>{\n    //         const {data}=await axios.get(`/api/products/${params.id}`)\n    //         setProduct(data);\n    //     }\n    //     fetchProduct();\n    // },[])\n    console.log(\"item\")\n    const addToCartHandler=(name,product,image,price,countInStock)=>{\n        // navigate(`/cart/${params.id}?qty=${qty}`)\n        dispatch(addToCart({\n            qty:qty,\n            name:name,\n            product:product,\n            image:image,\n            price:price,\n            countInStock:countInStock,\n            itemsmultiliedbyqty:null\n        }))\n    }\n\n    // const product=products.find(p=> p._id===params.id)\n  return (\n    <Container>\n\n    {\n      isLoading && \n      <Loader/>\n    }\n\n    {isSuccess && \n    \nitem.map(product=>(\n    <div  key={product._id}>\n    <Link className='btn btn-light my-3' to='/'>Go Back</Link>\n      <Row>\n        <Col md={6}>\n            <Image src={product.image} alt={product.name} fluid/>\n        </Col>\n        <Col>\n        <ListGroup variant='flush'>\n            <ListGroup.Item>\n                <h3>{product.name}</h3>\n            </ListGroup.Item>\n            <ListGroup.Item>\n                <Rating value={product.rating} text={`${product.numReviews} Reviews`}/>\n            </ListGroup.Item>\n            <ListGroup.Item>\n                Price: ₹ {product.price}\n            </ListGroup.Item>\n            <ListGroup.Item>\n                Description:{product.description}\n            </ListGroup.Item>\n        </ListGroup>\n        </Col>\n        <Col md={3}>\n            <Card>\n                <ListGroup>\n                    <ListGroup.Item>\n                        <Row>\n                            <Col>\n                            Price:\n                            </Col>\n                            <Col>\n                            <strong>₹ {product.price}</strong>\n                            </Col>\n                        </Row>\n                    </ListGroup.Item>\n                    <ListGroup.Item>\n                        <Row>\n                            <Col>\n                            Status:\n                            </Col>\n                            <Col>\n                            {product.countInStock?'In Stock':'Out Of Stock'}\n                            </Col>\n                        </Row>\n                    </ListGroup.Item>\n                    {product.countInStock>0 && (\n                    <ListGroup.Item>    \n                        <Row>\n                            <Col>Select Qty</Col>\n                            <Col>\n                            <Form.Control as='select' value={qty} onChange={(e)=>setQty(e.target.value)}>\n                            {\n                            [...Array(product.countInStock).keys()].map((x)=>(\n                            <option key={x+1} value={x+1}>\n                            {x+1}\n                            </option>\n                            ))\n                            }\n                            </Form.Control> \n                            </Col>\n                        </Row>\n                    </ListGroup.Item>\n\n\n                    )}\n                    \n                    <ListGroup.Item>\n                        <Button className='btn block' type='button' disabled={product.countInStock===0} onClick={()=>addToCartHandler(product.name,product._id,product.image,product.price,product.countInStock)}>Add To Cart</Button>\n                    </ListGroup.Item>\n                </ListGroup>\n            </Card>\n        </Col>\n      </Row>\n      </div>\n))\n    \n}\n    </Container>\n  )\n}\n\nexport default ProductScreen"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}