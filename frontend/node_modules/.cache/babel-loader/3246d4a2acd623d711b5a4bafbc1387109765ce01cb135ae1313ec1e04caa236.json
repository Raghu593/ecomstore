{"ast":null,"code":"import _toConsumableArray from\"/Users/raghu/Downloads/ecomstore-master/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import React from'react';import{Link,useNavigate}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import Message from'./Message';import{Row,Col,Image,ListGroup,Container,ListGroupItem,Form,Button,Card}from'react-bootstrap';import{addToCart,removeFromCart}from'../app/features/slices/cartslice';import{brandcolor}from'../components/brandcolor';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CartScreen(){var navigate=useNavigate();var dispatch=useDispatch();var cartItems=useSelector(function(state){return state.cart.cartItems;});var totalQuantity=useSelector(function(state){return state.cart.totalQuantity;});var totalCartValue=useSelector(function(state){return state.cart.totalCartValue;});var checkoutHandler=function checkoutHandler(){navigate('/login?redirect=shipping');//     if (localStorage.getItem('userInfo') !== null) {\n//       navigate('/shipping')\n// }\n// else{ \n//       navigate('/login')\n//   }\n};return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:8,children:[/*#__PURE__*/_jsx(\"h1\",{style:{color:brandcolor},children:\"Shopping Cart\"}),cartItems.length===0?/*#__PURE__*/_jsxs(Message,{children:[\"Your Cart Is Empty \",/*#__PURE__*/_jsx(Link,{to:\"/\",style:{color:brandcolor},children:\"Go Back\"})]}):/*#__PURE__*/_jsx(ListGroup,{variant:\"flush\",children:cartItems.map(function(item){return/*#__PURE__*/_jsx(ListGroupItem,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsx(Image,{src:item.image,alt:item.name,fluid:true,rounded:true})}),/*#__PURE__*/_jsx(Col,{md:3,children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.product),children:item.name})}),/*#__PURE__*/_jsxs(Col,{md:2,children:[\"$\",item.price]}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsx(Form.Control,{as:\"select\",value:item.qty,onChange:function onChange(e){return dispatch(addToCart({qty:e.target.value,name:item.name,product:item.product,image:item.image,price:item.price,countInStock:item.countInStock}));},children:_toConsumableArray(Array(item.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})}),/*#__PURE__*/_jsx(Col,{md:2,children:/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"light\",onClick:function onClick(){return dispatch(removeFromCart({id:item.product,cal:item.itemsmultiliedbyqty}));},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\",style:{color:brandcolor}})})})]})},item.product);})})]}),totalQuantity>0?/*#__PURE__*/_jsx(Col,{md:4,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(ListGroup,{variant:\"flush\",children:[/*#__PURE__*/_jsxs(ListGroup.Item,{children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Subtotal For (\",totalQuantity,\") items\"]}),/*#__PURE__*/_jsx(\"h4\",{children:totalCartValue})]}),/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Button,{type:\"button\",className:\"btn-block\",onClick:checkoutHandler,style:{color:brandcolor},children:\"Proceed To Checkout\"})})]})})}):/*#__PURE__*/_jsx(_Fragment,{})]})});}export default CartScreen;","map":{"version":3,"names":["React","Link","useNavigate","useSelector","useDispatch","Message","Row","Col","Image","ListGroup","Container","ListGroupItem","Form","Button","Card","addToCart","removeFromCart","brandcolor","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CartScreen","navigate","dispatch","cartItems","state","cart","totalQuantity","totalCartValue","checkoutHandler","children","md","style","color","length","to","variant","map","item","src","image","alt","name","fluid","rounded","concat","product","price","Control","as","value","qty","onChange","e","target","countInStock","_toConsumableArray","Array","keys","x","type","onClick","id","cal","itemsmultiliedbyqty","className","Item"],"sources":["/Users/raghu/Downloads/ecomstore-master/frontend/src/screens/CartScreen.js"],"sourcesContent":["import React from 'react';\nimport { Link ,useNavigate} from 'react-router-dom';\nimport {useSelector,useDispatch} from 'react-redux';\nimport Message from './Message';\nimport {Row, Col,Image,ListGroup, Container, ListGroupItem ,Form, Button,Card} from 'react-bootstrap';\nimport { addToCart,removeFromCart } from '../app/features/slices/cartslice';\nimport { brandcolor } from '../components/brandcolor';\n\nfunction CartScreen() {\n\n  const navigate=useNavigate();\n\n    const dispatch=useDispatch();\n    const cartItems=useSelector((state)=>state.cart.cartItems);\n    const totalQuantity=useSelector((state)=>state.cart.totalQuantity);\n    const totalCartValue=useSelector((state)=>state.cart.totalCartValue);\n\n    const checkoutHandler=()=>{\n      navigate('/login?redirect=shipping')\n      //     if (localStorage.getItem('userInfo') !== null) {\n  //       navigate('/shipping')\n  // }\n  // else{ \n  //       navigate('/login')\n  //   }\n  }\n\n  return( \n    <Container>\n    <Row>\n      <Col md={8}>\n        <h1 style={{color:brandcolor}}>Shopping Cart</h1>\n        {cartItems.length===0 ? \n        (<Message>Your Cart Is Empty <Link to='/' style={{color:brandcolor}}>Go Back</Link></Message>) :\n         (\n         <ListGroup variant='flush'>\n        \n        {cartItems.map((item)=>(\n          <ListGroupItem key={item.product}>\n              <Row>\n                <Col md={2}>\n                  <Image src={item.image} alt={item.name} fluid rounded/>\n                </Col>\n                <Col md={3}>\n                  <Link to={`/product/${item.product}`}>{item.name}</Link>\n                </Col>\n                <Col md={2}>${item.price}</Col>\n                <Col md={2}>\n                <Form.Control as='select' value={item.qty} onChange={(e)=>dispatch(addToCart({\n                qty:e.target.value,\n                name:item.name,\n                product:item.product,\n                image:item.image,\n                price:item.price,\n                countInStock:item.countInStock,\n                }))}>  \n                            {\n                            [...Array(item.countInStock).keys()].map(x=>(\n                            <option key={x+1} value={x+1}>\n                            {x+1}\n                            </option>\n                            ))\n                            }\n                </Form.Control>\n                </Col>\n                <Col md={2}>\n                  <Button type='button' variant='light' onClick={()=> dispatch(removeFromCart({id:item.product,cal:item.itemsmultiliedbyqty}))}><i className='fas fa-trash' style={{color:brandcolor}}></i></Button>\n                </Col>\n              </Row>\n          </ListGroupItem>\n        ))}\n        </ListGroup>\n        )}\n      </Col>\n      {totalQuantity > 0 ?\n      <Col md={4}>\n        <Card>\n          <ListGroup variant='flush'>\n            <ListGroup.Item>\n              <h2>Subtotal For ({totalQuantity}) items</h2>\n              <h4>{totalCartValue}</h4>\n            </ListGroup.Item>\n            <ListGroup.Item>\n              <Button\n                type='button'\n                className='btn-block'\n                onClick={checkoutHandler}\n                style={{color:brandcolor}}\n              >\n                Proceed To Checkout\n              </Button>\n            </ListGroup.Item>\n          </ListGroup>\n        </Card>\n      </Col>\n      :\n      <>\n      </>\n      }\n    </Row>\n\n    {/* <input type=\"file\"/> */}\n    </Container>\n  )\n}\n\nexport default CartScreen"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}