{"ast":null,"code":"var _jsxFileName = \"/Users/raghu/Downloads/ecomstore-master/frontend/src/screens/ProductListScreen.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport { Table, Button, Container, Row, Col } from 'react-bootstrap';\nimport Message from './Message';\nimport Loader from '../components/Loader';\nimport { useGetAllProductsQuery, useDeleteProductMutation } from '../app/api';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProductListScreen = () => {\n  _s();\n  //   const dispatch = useDispatch()\n\n  //   const userList = useSelector((state) => state.userList)\n  //   const { loading, error, users } = userList\n\n  //   const userLogin = useSelector((state) => state.userLogin)\n  //   const { userInfo } = userLogin\n\n  //   const userDelete = useSelector((state) => state.userDelete)\n  //   const { success: successDelete } = userDelete\n\n  //   useEffect(() => {\n  //     if (userInfo && userInfo.isAdmin) {\n  //       dispatch(listUsers())\n  //     } else {\n  //       history.push('/login')\n  //     }\n  //   }, [dispatch, history, successDelete, userInfo])\n\n  const deleteHandler = id => {\n    if (window.confirm('Are you sure to delete this product')) {\n      console.log(id);\n      deleteProduct(id);\n    }\n  };\n  const navigate = useNavigate();\n\n  // const editHandler=(id)=>{\n  //                   console.log(\"userid\",id)\n  // }``\n\n  const createProductHandler = () => {\n    navigate('/admin/product/upload');\n  };\n  const {\n    data,\n    isLoading,\n    isSuccess,\n    refetch,\n    error\n  } = useGetAllProductsQuery();\n  // error & console.log(\"allproducts\",error)\n  const [deleteProduct, deleteProductResponse] = useDeleteProductMutation();\n  deleteProductResponse.isSuccess && refetch();\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      className: \"align-items-center\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        className: \"text-right\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          className: \"my-3\",\n          onClick: createProductHandler,\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-plus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), \" Create Product\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), isLoading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: error.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      responsive: true,\n      className: \"table-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"NAME\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"PRICE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"CATEGORY\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"BRAND\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: data.map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: user._id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(\"a\", {\n              children: user.price\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: user.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: user.brand\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [/*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: `/admin/product/${user._id}/edit`,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"light\",\n                className: \"btn-sm\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"danger\",\n              className: \"btn-sm\",\n              onClick: () => deleteHandler(user._id),\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-trash\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 17\n          }, this)]\n        }, user._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(ProductListScreen, \"Ie5fF10EepCfjuhRAdLOXT3iSFc=\", false, function () {\n  return [useNavigate, useGetAllProductsQuery, useDeleteProductMutation];\n});\n_c = ProductListScreen;\nexport default ProductListScreen;\nvar _c;\n$RefreshReg$(_c, \"ProductListScreen\");","map":{"version":3,"names":["React","LinkContainer","Table","Button","Container","Row","Col","Message","Loader","useGetAllProductsQuery","useDeleteProductMutation","useNavigate","jsxDEV","_jsxDEV","ProductListScreen","_s","deleteHandler","id","window","confirm","console","log","deleteProduct","navigate","createProductHandler","data","isLoading","isSuccess","refetch","error","deleteProductResponse","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","variant","message","striped","bordered","hover","responsive","map","user","_id","name","price","category","brand","to","_c","$RefreshReg$"],"sources":["/Users/raghu/Downloads/ecomstore-master/frontend/src/screens/ProductListScreen.js"],"sourcesContent":["import React from 'react'\nimport { LinkContainer } from 'react-router-bootstrap'\nimport { Table, Button, Container,Row,Col} from 'react-bootstrap'\nimport Message from './Message'\nimport Loader from '../components/Loader'\nimport { useGetAllProductsQuery ,useDeleteProductMutation} from '../app/api'\nimport { useNavigate } from 'react-router-dom';\n\n\nconst ProductListScreen = () => {\n//   const dispatch = useDispatch()\n\n//   const userList = useSelector((state) => state.userList)\n//   const { loading, error, users } = userList\n\n//   const userLogin = useSelector((state) => state.userLogin)\n//   const { userInfo } = userLogin\n\n//   const userDelete = useSelector((state) => state.userDelete)\n//   const { success: successDelete } = userDelete\n\n//   useEffect(() => {\n//     if (userInfo && userInfo.isAdmin) {\n//       dispatch(listUsers())\n//     } else {\n//       history.push('/login')\n//     }\n//   }, [dispatch, history, successDelete, userInfo])\n\n  const deleteHandler = (id) => {\n    if (window.confirm('Are you sure to delete this product')) {\n        console.log(id)\n      deleteProduct(id)\n    }\n  }\n\n  const navigate = useNavigate();\n\n  // const editHandler=(id)=>{\n  //                   console.log(\"userid\",id)\n  // }``\n\n  const createProductHandler = () => {\n    navigate('/admin/product/upload')\n  }\n\n  const {data,isLoading,isSuccess,refetch,error}=useGetAllProductsQuery();\n// error & console.log(\"allproducts\",error)\nconst [deleteProduct,deleteProductResponse]=useDeleteProductMutation();\n\ndeleteProductResponse.isSuccess && refetch()\n\nreturn (\n    <Container>\n      <Row className='align-items-center'>\n        <Col>\n          <h1>Products</h1>\n        </Col>\n        <Col className='text-right'>\n          <Button className='my-3' onClick={createProductHandler}>\n            <i className='fas fa-plus'></i> Create Product\n          </Button>\n        </Col>\n      </Row>     \n       {isLoading ? (\n        <Loader />\n      ) : error ? (\n        <Message variant='danger'>{error.message}</Message>\n      ) : (\n        <Table striped bordered hover responsive className='table-sm'>\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>NAME</th>\n              <th>PRICE</th>\n              <th>CATEGORY</th>\n              <th>BRAND</th>\n            </tr>\n          </thead>\n          <tbody>\n            {data.map((user) => (\n              <tr key={user._id}>\n                <td>{user._id}</td>\n                <td>{user.name}</td>\n                <td>\n                  <a>{user.price}</a>\n                </td>\n                <td>\n                  {user.category}\n                </td>\n                <td>\n                  {user.brand}\n                </td>\n                <td>\n                  <LinkContainer to={`/admin/product/${user._id}/edit`}>\n                    <Button variant='light' className='btn-sm'>\n                      <i className='fas fa-edit'></i>\n                    </Button>\n                  </LinkContainer>\n                  <Button\n                    variant='danger'\n                    className='btn-sm'\n                    onClick={() => deleteHandler(user._id)}\n                  >\n                    <i className='fas fa-trash'></i>\n                  </Button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n      )}\n    </Container>\n  )\n}\n\nexport default ProductListScreen"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}